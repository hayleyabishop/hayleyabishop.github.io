<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transpose</title>
  <link rel="stylesheet" href="webapp.css">
  <link rel="stylesheet" href="hybrid-input.css">

</head>

<body>
  <!-- <div style="border:white 2px;background-color: aqua;width:fit-content;">
  <svg>
    <g transform="translate(.000000,.000000) scale(.300000)" fill="#FFFFFF" stroke="none">
      <path d="M 217.86 249.42 C 220.845 251.22 227.339 258.76 234.163 268.641 C 240.987 278.521 247.801 290.823 250.747 302.302 C 255.142 319.414 251.46 345.297 247.498 371.257 C 243.538 397.22 239.964 423.145 242.575 440.676 C 247.172 471.539 268.805 493.446 268.768 493.418 C 268.732 493.39 267.87 494.261 267.34 494.542 C 266.752 494.855 235.865 468.781 229.3 431.996 C 224.775 413.656 228.926 386.248 233.245 359.388 C 237.563 332.531 242.052 306.225 238.2 290.092 C 235.979 280.778 229.979 270.568 224.536 262.682 C 219.093 254.798 214.391 249.984 214.36 249.551 C 214.331 249.118 219.379 244.239 224.822 236.356 C 230.267 228.469 236.265 218.259 238.487 208.945 C 242.338 192.812 237.85 166.506 233.532 139.649 C 229.212 112.79 225.062 85.382 229.587 67.042 C 236.152 30.256 267.038 4.182 267.627 4.495 C 268.156 4.776 269.02 5.649 269.055 5.619 C 269.09 5.591 247.458 27.498 242.863 58.361 C 240.252 75.892 243.825 101.817 247.786 127.779 C 251.746 153.741 255.428 179.625 251.035 196.734 C 248.088 208.214 241.273 220.517 234.449 230.397 C 227.624 240.278 220.845 247.618 217.86 249.42 Z"/>
    </g>
  </svg>
</div> -->
  <!-- <div  class="brace"> -->
  <div class="panel">
    Transposing chords for my autoharp.
    <div>

      <div class="labels">

        <form action="">
          <div class="sectionHeader">Autoharp Type</div>
          <div class="radioList">

            <div class="radioOption">
              <!-- Autoharp Type Selection: 12-Chord - Allows user to select 12-chord autoharp for chord availability filtering -->
              <input type="radio" class="chordInputType" name="autoharpType" id="type12Chord" value="type12Chord">
              <label for="type12Chord">12-Chord</label>
            </div>
            <div class="radioOption">
              <!-- Autoharp Type Selection: 15-Chord - Allows user to select 15-chord autoharp for chord availability filtering -->
              <input type="radio" class="chordInputType" name="autoharpType" id="type15Chord" value="type15Chord">
              <label for="type15Chord">15-Chord</label>
            </div>
            <div class="radioOption">
              <!-- Autoharp Type Selection: 21-Chord - Allows user to select 21-chord autoharp for chord availability filtering -->
              <input type="radio" class="chordInputType" name="autoharpType" id="type21Chord" value="type21Chord">
              <label for="type21Chord">21-Chord</label>
            </div>
            <div class="radioOption">
              <!-- Autoharp Type Selection: Custom - Allows user to define custom chord availability -->
              <input type="radio" class="chordInputType" name="autoharpType" id="typeCustomChords" value="typeCustomChords">
              <label for="typeCustomChords">Custom</label>
            </div>
          </div>

          <div class="collapsibleSectionHeader">
            <div class="label">Available Chords</div>
            <!-- <button type="collapseSection" onclick="toggleCollapseSection()"> + </button> -->

          </div>
          <div class="availableChordsSection">

          </div>
          <div class="label sectionHeader">Input Chords</div>
          <div class="chordSelectionInterface">
            <!-- <div class="chordRow chordNames">
              <div class="rowLabel">Chord:</div>
              <button type="button" class="chordButton chordName" data-chord="C" onclick="selectChordName('C')"><span>C</span></button>
              <button type="button" class="chordButton chordName" data-chord="C#/Db" onclick="selectChordName('C#/Db')"><span>C#/Db</span></button>
              <button type="button" class="chordButton chordName" data-chord="D" onclick="selectChordName('D')"><span>D</span></button>
              <button type="button" class="chordButton chordName" data-chord="D#/Eb" onclick="selectChordName('D#/Eb')"><span>D#/Eb</span></button>
              <button type="button" class="chordButton chordName" data-chord="E" onclick="selectChordName('E')"><span>E</span></button>
              <button type="button" class="chordButton chordName" data-chord="F" onclick="selectChordName('F')"><span>F</span></button>
              <button type="button" class="chordButton chordName" data-chord="F#/Gb" onclick="selectChordName('F#/Gb')"><span>F#/Gb</span></button>
              <button type="button" class="chordButton chordName" data-chord="G" onclick="selectChordName('G')"><span>G</span></button>
              <button type="button" class="chordButton chordName" data-chord="G#/Ab" onclick="selectChordName('G#/Ab')"><span>G#/Ab</span></button>
              <button type="button" class="chordButton chordName" data-chord="A" onclick="selectChordName('A')"><span>A</span></button>
              <button type="button" class="chordButton chordName" data-chord="A#/Bb" onclick="selectChordName('A#/Bb')"><span>A#/Bb</span></button>
              <button type="button" class="chordButton chordName" data-chord="B" onclick="selectChordName('B')"><span>B</span></button>
            </div>
            
            
            <div class="chordRow chordTypes">
              <div class="rowLabel">Type:</div>
              <button type="button" class="chordButton chordType" data-type="major" onclick="selectChordType('major')"><span>Major</span></button>
              <button type="button" class="chordButton chordType" data-type="minor" onclick="selectChordType('minor')"><span>minor</span></button>
              <button type="button" class="chordButton chordType" data-type="7th" onclick="selectChordType('7th')"><span>7th</span></button>
              <button type="button" class="chordButton chordType" data-type="m7" onclick="selectChordType('m7')"><span>m7</span></button>
              <button type="button" class="chordButton chordType" data-type="maj7" onclick="selectChordType('maj7')"><span>maj7</span></button>
              <button type="button" class="chordButton chordType" data-type="dim" onclick="selectChordType('dim')"><span>dim</span></button>
              <button type="button" class="chordButton chordType" data-type="aug" onclick="selectChordType('aug')"><span>aug</span></button>
            </div>
          </div> -->
          
          <!-- New Hybrid Input Section -->
          <div class="hybrid-input-section">
            <div class="input-methods">
              <!-- Text Input with Suggestions -->
              <div class="text-input-container">
                <div class="input-with-controls">
                  <!-- Chord Text Input: Allows user to type chord names with fuzzy matching and autocomplete suggestions -->
                  <input type="text" id="chordTextInput" placeholder="Type chord name (e.g., Gm, F#7, Asus2)" autocomplete="off">
                  <!-- Add Chord Button: Adds the chord from text input to the user's selection when clicked -->
                  <button id="addChordBtn" class="add-chord-btn" type="button">Add</button>
                  <!-- Sound Toggle Button: Toggles audio feedback on/off for chord interactions -->
                  <button id="soundToggle" class="sound-toggle" type="button" aria-label="Toggle sound">ðŸ”‡</button>
                </div>
                <!-- Chord Suggestions Container: Displays autocomplete suggestions based on user input -->
                <div id="chordSuggestions" class="suggestions-container" style="display: none;"></div>
              </div>
              
              <!-- Quick Action Buttons -->
              <div class="quick-actions">
                <!-- Clear All Button: Removes all selected chords from the user's current selection -->
                <button id="clearAllChords" class="utility-btn" type="button">Clear All</button>
                <!-- Play All Button: Plays all selected chords in sequence for audio feedback -->
                <button id="playAllChords" class="utility-btn" type="button">Play All</button>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- App Messages -->
      <div id="app-message" class="app-message" style="display: none;"></div>

      <div class="bracketed-section">

        <div class="barline-section">
          <!-- Simple staff: 5 horizontal lines + left vertical line -->
          <div class="chordGroup" id="chordGroupInputs" role="list">

          </div>
          <div class="staffSpacer">
            <div class="label">Available Chord Progressions</div>
          </div>
          <div class="chordGroupWrapper" id="chordGroupResults">
            <div class="chordGroup"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
  
  <!-- Load modules -->
  <script type="module" src="modules/appIntegration.js"></script>
  <script src="webapp.js"></script>
  <!-- Debug scripts for testing -->
  <script src="tests/test-transcription-debug.js"></script>
  <script src="tests/test-transcription-end-to-end.js"></script>
  <script src="tests/test-input-flow-debug.js"></script>
  <script src="tests/test-suggestion-panel-fix.js"></script>
  <script src="tests/test-integration.js"></script>
</body>

</html>